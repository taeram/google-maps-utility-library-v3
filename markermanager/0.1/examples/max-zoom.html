<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps API Example - MaxZoom</title>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript">
      document.write('<script type="text/javascript" src="../src/markermanager' + (document.location.search.indexOf('packed') > -1 ? '_packed' : '') + '.js"><' + '/script>');
    </script>
    <script type="text/javascript">
    //<![CDATA[

    function setupMap() {
        
      var myOptions = {
        zoom: 4,
        center: new google.maps.LatLng(49.5537, 12.65625),
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
      map = new google.maps.Map(document.getElementById("map"), myOptions);
  
    
  
      google.maps.event.addListener(map, 'load', function(){
        mgr = new MarkerManager(map);
        google.maps.event.addListener(mgr, 'loaded', function(){
            mgr.addMarker(mgr.getMarker(map.get_center().lat(), map.get_center().lng(), 18), 18, 19);
            google.maps.event.addListener(map, "zoomend", function (oldLevel, newLevel) {
              alert("Zoomed from " + oldLevel + " to " + newLevel + ".");
            });
        });
      });      
    }

    //]]>
    </script>
  </head>

  <body onload="setupMap()">
    <div id="map" style="margin: 5px auto; width: 650px; height: 400px"></div>
    <div style="text-align: center; font-size: large;">
      MarkerManager MaxZoom Test<br />
      No marker should appear initially.  Zooming to levels 18-19 should show a marker.
    </div>
  </body>
</html>

